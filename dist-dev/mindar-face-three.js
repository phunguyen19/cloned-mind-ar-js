import { Scene as m, WebGLRenderer as w, sRGBEncoding as y, PerspectiveCamera as g, Mesh as M, MeshStandardMaterial as x, Group as p, BufferGeometry as A, BufferAttribute as R } from "three";
import { CSS3DRenderer as S } from "three/addons/renderers/CSS3DRenderer.js";
import { C as b } from "./controller-212bb69c.js";
import { U as E } from "./ui-56ede774.js";
const C = { BufferGeometry: A, BufferAttribute: R };
class U {
  constructor({ container: o, uiLoading: e = "yes", uiScanning: i = "yes", uiError: n = "yes", filterMinCF: t = null, filterBeta: h = null }) {
    this.container = o, this.ui = new E({ uiLoading: e, uiScanning: i, uiError: n }), this.controller = new b({
      filterMinCF: t,
      filterBeta: h
    }), this.scene = new m(), this.cssScene = new m(), this.renderer = new w({ antialias: !0, alpha: !0 }), this.cssRenderer = new S({ antialias: !0 }), this.renderer.outputEncoding = y, this.renderer.setPixelRatio(window.devicePixelRatio), this.camera = new g(), this.anchors = [], this.faceMeshes = [], this.container.appendChild(this.renderer.domElement), this.container.appendChild(this.cssRenderer.domElement), this.shouldFaceUser = !0, window.addEventListener("resize", this._resize.bind(this));
  }
  async start() {
    this.ui.showLoading(), await this._startVideo(), await this._startAR(), this.ui.hideLoading();
  }
  stop() {
    this.video.srcObject.getTracks().forEach(function(e) {
      e.stop();
    }), this.video.remove(), this.controller.stopProcessVideo();
  }
  switchCamera() {
    this.shouldFaceUser = !this.shouldFaceUser, this.stop(), this.start();
  }
  addFaceMesh() {
    const o = this.controller.createThreeFaceGeometry(C), e = new M(o, new x({ color: 16777215 }));
    return e.visible = !1, e.matrixAutoUpdate = !1, this.faceMeshes.push(e), e;
  }
  addAnchor(o) {
    const e = new p();
    e.matrixAutoUpdate = !1;
    const i = { group: e, landmarkIndex: o, css: !1 };
    return this.anchors.push(i), this.scene.add(e), i;
  }
  addCSSAnchor(o) {
    const e = new p();
    e.matrixAutoUpdate = !1;
    const i = { group: e, landmarkIndex: o, css: !0 };
    return this.anchors.push(i), this.cssScene.add(e), i;
  }
  _startVideo() {
    return new Promise((o, e) => {
      if (this.video = document.createElement("video"), this.video.setAttribute("autoplay", ""), this.video.setAttribute("muted", ""), this.video.setAttribute("playsinline", ""), this.video.style.position = "absolute", this.video.style.top = "0px", this.video.style.left = "0px", this.video.style.zIndex = "-2", this.container.appendChild(this.video), !navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
        this.ui.showCompatibility(), e();
        return;
      }
      navigator.mediaDevices.getUserMedia({
        audio: !1,
        video: {
          facingMode: this.shouldFaceUser ? "face" : "environment"
        }
      }).then((i) => {
        this.video.addEventListener("loadedmetadata", () => {
          this.video.setAttribute("width", this.video.videoWidth), this.video.setAttribute("height", this.video.videoHeight), o();
        }), this.video.srcObject = i;
      }).catch((i) => {
        console.log("getUserMedia error", i), e();
      });
    });
  }
  _startAR() {
    return new Promise(async (o, e) => {
      const i = this.video;
      this.container, this.controller.onUpdate = ({ hasFace: l, estimateResult: f }) => {
        for (let r = 0; r < this.anchors.length; r++)
          this.anchors[r].css ? this.anchors[r].group.children.forEach((a) => {
            a.element.style.visibility = l ? "visible" : "hidden";
          }) : this.anchors[r].group.visible = l;
        for (let r = 0; r < this.faceMeshes.length; r++)
          this.faceMeshes[r].visible = l;
        if (l) {
          const { metricLandmarks: r, faceMatrix: a, faceScale: F } = f;
          for (let c = 0; c < this.anchors.length; c++) {
            const u = this.anchors[c].landmarkIndex, s = this.controller.getLandmarkMatrix(u);
            if (this.anchors[c].css) {
              const v = [
                1e-3 * s[0],
                1e-3 * s[1],
                s[2],
                s[3],
                1e-3 * s[4],
                1e-3 * s[5],
                s[6],
                s[7],
                1e-3 * s[8],
                1e-3 * s[9],
                s[10],
                s[11],
                1e-3 * s[12],
                1e-3 * s[13],
                s[14],
                s[15]
              ];
              this.anchors[c].group.matrix.set(...v);
            } else
              this.anchors[c].group.matrix.set(...s);
          }
          for (let c = 0; c < this.faceMeshes.length; c++)
            this.faceMeshes[c].matrix.set(...a);
        }
      }, this._resize(), await this.controller.setup(i);
      const { fov: n, aspect: t, near: h, far: d } = this.controller.getCameraParams();
      this.camera.fov = n, this.camera.aspect = t, this.camera.near = h, this.camera.far = d, this.camera.updateProjectionMatrix(), this.renderer.setSize(this.video.videoWidth, this.video.videoHeight), this.cssRenderer.setSize(this.video.videoWidth, this.video.videoHeight), await this.controller.dummyRun(i), this._resize(), this.controller.processVideo(i), o();
    });
  }
  _resize() {
    const { renderer: o, cssRenderer: e, camera: i, container: n, video: t } = this;
    if (!t)
      return;
    let h, d;
    const l = t.videoWidth / t.videoHeight, f = n.clientWidth / n.clientHeight;
    l > f ? (d = n.clientHeight, h = d * l) : (h = n.clientWidth, d = h / l), t.style.top = -(d - n.clientHeight) / 2 + "px", t.style.left = -(h - n.clientWidth) / 2 + "px", t.style.width = h + "px", t.style.height = d + "px";
    const r = o.domElement, a = e.domElement;
    r.style.position = "absolute", r.style.top = t.style.top, r.style.left = t.style.left, r.style.width = t.style.width, r.style.height = t.style.height, a.style.position = "absolute", a.style.top = t.style.top, a.style.left = t.style.left, a.style.transformOrigin = "top left", a.style.transform = "scale(" + h / parseFloat(a.style.width) + "," + d / parseFloat(a.style.height) + ")";
  }
}
window.MINDAR || (window.MINDAR = {});
window.MINDAR.FACE || (window.MINDAR.FACE = {});
window.MINDAR.FACE.MindARThree = U;
export {
  U as MindARThree
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWluZGFyLWZhY2UtdGhyZWUuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9mYWNlLXRhcmdldC90aHJlZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2VuZSwgV2ViR0xSZW5kZXJlciwgUGVyc3BlY3RpdmVDYW1lcmEsIHNSR0JFbmNvZGluZywgTWVzaCwgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsIEdyb3VwIH0gZnJvbSBcInRocmVlXCI7XG4vL2ltcG9ydCB7IENTUzNEUmVuZGVyZXIgfSBmcm9tICcuLi9saWJzL0NTUzNEUmVuZGVyZXIuanMnO1xuaW1wb3J0IHtDU1MzRFJlbmRlcmVyfSBmcm9tICd0aHJlZS9hZGRvbnMvcmVuZGVyZXJzL0NTUzNEUmVuZGVyZXIuanMnXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlci5qc1wiO1xuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi4vdWkvdWkuanNcIjtcbmltcG9ydCB7QnVmZmVyR2VvbWV0cnksQnVmZmVyQXR0cmlidXRlfSBmcm9tIFwidGhyZWVcIjtcbmNvbnN0IFRIUkVFPXtCdWZmZXJHZW9tZXRyeSxCdWZmZXJBdHRyaWJ1dGV9O1xuXG5leHBvcnQgY2xhc3MgTWluZEFSVGhyZWUge1xuICBjb25zdHJ1Y3Rvcih7Y29udGFpbmVyLCB1aUxvYWRpbmc9XCJ5ZXNcIiwgdWlTY2FubmluZz1cInllc1wiLCB1aUVycm9yPVwieWVzXCIsIGZpbHRlck1pbkNGPW51bGwsIGZpbHRlckJldGE9bnVsbH0pIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnVpID0gbmV3IFVJKHsgdWlMb2FkaW5nLCB1aVNjYW5uaW5nLCB1aUVycm9yIH0pO1xuXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoe1xuICAgICAgZmlsdGVyTWluQ0Y6IGZpbHRlck1pbkNGLFxuICAgICAgZmlsdGVyQmV0YTogZmlsdGVyQmV0YSxcbiAgICB9KTtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgdGhpcy5jc3NTY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IHRydWUgfSk7XG4gICAgdGhpcy5jc3NSZW5kZXJlciA9IG5ldyBDU1MzRFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xuICAgIHRoaXMucmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSgpO1xuXG4gICAgdGhpcy5hbmNob3JzID0gW107XG4gICAgdGhpcy5mYWNlTWVzaGVzID0gW107XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3NzUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICB0aGlzLnNob3VsZEZhY2VVc2VyID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhc3luYyBzdGFydCgpIHtcbiAgICB0aGlzLnVpLnNob3dMb2FkaW5nKCk7XG4gICAgYXdhaXQgdGhpcy5fc3RhcnRWaWRlbygpO1xuICAgIGF3YWl0IHRoaXMuX3N0YXJ0QVIoKTtcbiAgICB0aGlzLnVpLmhpZGVMb2FkaW5nKCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMudmlkZW8uc3JjT2JqZWN0LmdldFRyYWNrcygpO1xuICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgdHJhY2suc3RvcCgpO1xuICAgIH0pO1xuICAgIHRoaXMudmlkZW8ucmVtb3ZlKCk7XG4gICAgdGhpcy5jb250cm9sbGVyLnN0b3BQcm9jZXNzVmlkZW8oKTtcbiAgfVxuXG4gIHN3aXRjaENhbWVyYSgpIHtcbiAgICB0aGlzLnNob3VsZEZhY2VVc2VyID0gIXRoaXMuc2hvdWxkRmFjZVVzZXI7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgYWRkRmFjZU1lc2goKSB7XG4gICAgY29uc3QgZmFjZUdlb21ldHJ5ID0gdGhpcy5jb250cm9sbGVyLmNyZWF0ZVRocmVlRmFjZUdlb21ldHJ5KFRIUkVFKTtcbiAgICBjb25zdCBmYWNlTWVzaCA9IG5ldyBNZXNoKGZhY2VHZW9tZXRyeSwgbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZmZmIH0pKTtcbiAgICBmYWNlTWVzaC52aXNpYmxlID0gZmFsc2U7XG4gICAgZmFjZU1lc2gubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuZmFjZU1lc2hlcy5wdXNoKGZhY2VNZXNoKTtcbiAgICByZXR1cm4gZmFjZU1lc2g7XG4gIH1cblxuICBhZGRBbmNob3IobGFuZG1hcmtJbmRleCkge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IEdyb3VwKCk7XG4gICAgZ3JvdXAubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGFuY2hvciA9IHsgZ3JvdXAsIGxhbmRtYXJrSW5kZXgsIGNzczogZmFsc2UgfTtcbiAgICB0aGlzLmFuY2hvcnMucHVzaChhbmNob3IpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGdyb3VwKTtcbiAgICByZXR1cm4gYW5jaG9yO1xuICB9XG5cbiAgYWRkQ1NTQW5jaG9yKGxhbmRtYXJrSW5kZXgpIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBHcm91cCgpO1xuICAgIGdyb3VwLm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBhbmNob3IgPSB7IGdyb3VwLCBsYW5kbWFya0luZGV4LCBjc3M6IHRydWUgfTtcbiAgICB0aGlzLmFuY2hvcnMucHVzaChhbmNob3IpO1xuICAgIHRoaXMuY3NzU2NlbmUuYWRkKGdyb3VwKTtcbiAgICByZXR1cm4gYW5jaG9yO1xuICB9XG5cbiAgX3N0YXJ0VmlkZW8oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgnYXV0b3BsYXknLCAnJyk7XG4gICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnJyk7XG4gICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICB0aGlzLnZpZGVvLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgICAgdGhpcy52aWRlby5zdHlsZS50b3AgPSAnMHB4J1xuICAgICAgdGhpcy52aWRlby5zdHlsZS5sZWZ0ID0gJzBweCdcbiAgICAgIHRoaXMudmlkZW8uc3R5bGUuekluZGV4ID0gJy0yJ1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlbyk7XG5cbiAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgdGhpcy51aS5zaG93Q29tcGF0aWJpbGl0eSgpO1xuICAgICAgICByZWplY3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIGF1ZGlvOiBmYWxzZSwgdmlkZW86IHtcbiAgICAgICAgICBmYWNpbmdNb2RlOiAodGhpcy5zaG91bGRGYWNlVXNlciA/ICdmYWNlJyA6ICdlbnZpcm9ubWVudCcpLFxuICAgICAgICB9XG4gICAgICB9KS50aGVuKChzdHJlYW0pID0+IHtcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnZpZGVvLnZpZGVvV2lkdGgpO1xuICAgICAgICAgIHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXRVc2VyTWVkaWEgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zdGFydEFSKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMudmlkZW87XG4gICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICAgICAgdGhpcy5jb250cm9sbGVyLm9uVXBkYXRlID0gKHsgaGFzRmFjZSwgZXN0aW1hdGVSZXN1bHQgfSkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5jaG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLmFuY2hvcnNbaV0uY3NzKSB7XG4gICAgICAgICAgICB0aGlzLmFuY2hvcnNbaV0uZ3JvdXAuY2hpbGRyZW4uZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgICAgIG9iai5lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBoYXNGYWNlID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yc1tpXS5ncm91cC52aXNpYmxlID0gaGFzRmFjZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VNZXNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmZhY2VNZXNoZXNbaV0udmlzaWJsZSA9IGhhc0ZhY2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzRmFjZSkge1xuICAgICAgICAgIGNvbnN0IHsgbWV0cmljTGFuZG1hcmtzLCBmYWNlTWF0cml4LCBmYWNlU2NhbGUgfSA9IGVzdGltYXRlUmVzdWx0O1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbmNob3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYW5kbWFya0luZGV4ID0gdGhpcy5hbmNob3JzW2ldLmxhbmRtYXJrSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBsYW5kbWFya01hdHJpeCA9IHRoaXMuY29udHJvbGxlci5nZXRMYW5kbWFya01hdHJpeChsYW5kbWFya0luZGV4KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yc1tpXS5jc3MpIHtcbiAgICAgICAgICAgICAgY29uc3QgY3NzU2NhbGUgPSAwLjAwMTtcbiAgICAgICAgICAgICAgY29uc3Qgc2NhbGVkRWxlbWVudHMgPSBbXG4gICAgICAgICAgICAgICAgY3NzU2NhbGUgKiBsYW5kbWFya01hdHJpeFswXSwgY3NzU2NhbGUgKiBsYW5kbWFya01hdHJpeFsxXSwgbGFuZG1hcmtNYXRyaXhbMl0sIGxhbmRtYXJrTWF0cml4WzNdLFxuICAgICAgICAgICAgICAgIGNzc1NjYWxlICogbGFuZG1hcmtNYXRyaXhbNF0sIGNzc1NjYWxlICogbGFuZG1hcmtNYXRyaXhbNV0sIGxhbmRtYXJrTWF0cml4WzZdLCBsYW5kbWFya01hdHJpeFs3XSxcbiAgICAgICAgICAgICAgICBjc3NTY2FsZSAqIGxhbmRtYXJrTWF0cml4WzhdLCBjc3NTY2FsZSAqIGxhbmRtYXJrTWF0cml4WzldLCBsYW5kbWFya01hdHJpeFsxMF0sIGxhbmRtYXJrTWF0cml4WzExXSxcbiAgICAgICAgICAgICAgICBjc3NTY2FsZSAqIGxhbmRtYXJrTWF0cml4WzEyXSwgY3NzU2NhbGUgKiBsYW5kbWFya01hdHJpeFsxM10sIGxhbmRtYXJrTWF0cml4WzE0XSwgbGFuZG1hcmtNYXRyaXhbMTVdXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgdGhpcy5hbmNob3JzW2ldLmdyb3VwLm1hdHJpeC5zZXQoLi4uc2NhbGVkRWxlbWVudHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hbmNob3JzW2ldLmdyb3VwLm1hdHJpeC5zZXQoLi4ubGFuZG1hcmtNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU1lc2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5mYWNlTWVzaGVzW2ldLm1hdHJpeC5zZXQoLi4uZmFjZU1hdHJpeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9yZXNpemUoKTtcbiAgICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5zZXR1cCh2aWRlbyk7XG5cbiAgICAgIGNvbnN0IHsgZm92LCBhc3BlY3QsIG5lYXIsIGZhciB9ID0gdGhpcy5jb250cm9sbGVyLmdldENhbWVyYVBhcmFtcygpO1xuICAgICAgdGhpcy5jYW1lcmEuZm92ID0gZm92O1xuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgdGhpcy5jYW1lcmEubmVhciA9IG5lYXI7XG4gICAgICB0aGlzLmNhbWVyYS5mYXIgPSBmYXI7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLnZpZGVvLnZpZGVvV2lkdGgsIHRoaXMudmlkZW8udmlkZW9IZWlnaHQpO1xuICAgICAgdGhpcy5jc3NSZW5kZXJlci5zZXRTaXplKHRoaXMudmlkZW8udmlkZW9XaWR0aCwgdGhpcy52aWRlby52aWRlb0hlaWdodCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5kdW1teVJ1bih2aWRlbyk7XG5cbiAgICAgIHRoaXMuX3Jlc2l6ZSgpO1xuICAgICAgdGhpcy5jb250cm9sbGVyLnByb2Nlc3NWaWRlbyh2aWRlbyk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfcmVzaXplKCkge1xuICAgIGNvbnN0IHsgcmVuZGVyZXIsIGNzc1JlbmRlcmVyLCBjYW1lcmEsIGNvbnRhaW5lciwgdmlkZW8gfSA9IHRoaXM7XG4gICAgaWYgKCF2aWRlbykgcmV0dXJuO1xuXG4gICAgbGV0IHZ3LCB2aDsgLy8gZGlzcGxheSBjc3Mgd2lkdGgsIGhlaWdodFxuICAgIGNvbnN0IHZpZGVvUmF0aW8gPSB2aWRlby52aWRlb1dpZHRoIC8gdmlkZW8udmlkZW9IZWlnaHQ7XG4gICAgY29uc3QgY29udGFpbmVyUmF0aW8gPSBjb250YWluZXIuY2xpZW50V2lkdGggLyBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgIGlmICh2aWRlb1JhdGlvID4gY29udGFpbmVyUmF0aW8pIHtcbiAgICAgIHZoID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgIHZ3ID0gdmggKiB2aWRlb1JhdGlvO1xuICAgIH0gZWxzZSB7XG4gICAgICB2dyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgIHZoID0gdncgLyB2aWRlb1JhdGlvO1xuICAgIH1cblxuICAgIHZpZGVvLnN0eWxlLnRvcCA9ICgtKHZoIC0gY29udGFpbmVyLmNsaWVudEhlaWdodCkgLyAyKSArIFwicHhcIjtcbiAgICB2aWRlby5zdHlsZS5sZWZ0ID0gKC0odncgLSBjb250YWluZXIuY2xpZW50V2lkdGgpIC8gMikgKyBcInB4XCI7XG4gICAgdmlkZW8uc3R5bGUud2lkdGggPSB2dyArIFwicHhcIjtcbiAgICB2aWRlby5zdHlsZS5oZWlnaHQgPSB2aCArIFwicHhcIjtcblxuICAgIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmRvbUVsZW1lbnQ7XG4gICAgY29uc3QgY3NzQ2FudmFzID0gY3NzUmVuZGVyZXIuZG9tRWxlbWVudDtcblxuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY2FudmFzLnN0eWxlLnRvcCA9IHZpZGVvLnN0eWxlLnRvcDtcbiAgICBjYW52YXMuc3R5bGUubGVmdCA9IHZpZGVvLnN0eWxlLmxlZnQ7XG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gdmlkZW8uc3R5bGUud2lkdGg7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHZpZGVvLnN0eWxlLmhlaWdodDtcblxuICAgIGNzc0NhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY3NzQ2FudmFzLnN0eWxlLnRvcCA9IHZpZGVvLnN0eWxlLnRvcDtcbiAgICBjc3NDYW52YXMuc3R5bGUubGVmdCA9IHZpZGVvLnN0eWxlLmxlZnQ7XG4gICAgLy8gY2Fubm90IHNldCBzdHlsZSB3aWR0aCBmb3IgY3NzQ2FudmFzLCBiZWNhdXNlIHRoYXQgaXMgYWxzbyB1c2VkIGFzIHJlbmRlcmVyIHNpemVcbiAgICAvL2Nzc0NhbnZhcy5zdHlsZS53aWR0aCA9IHZpZGVvLnN0eWxlLndpZHRoO1xuICAgIC8vY3NzQ2FudmFzLnN0eWxlLmhlaWdodCA9IHZpZGVvLnN0eWxlLmhlaWdodDtcbiAgICBjc3NDYW52YXMuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCJ0b3AgbGVmdFwiO1xuICAgIGNzc0NhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoJyArICh2dyAvIHBhcnNlRmxvYXQoY3NzQ2FudmFzLnN0eWxlLndpZHRoKSkgKyAnLCcgKyAodmggLyBwYXJzZUZsb2F0KGNzc0NhbnZhcy5zdHlsZS5oZWlnaHQpKSArICcpJztcbiAgfVxufVxuXG5pZiAoIXdpbmRvdy5NSU5EQVIpIHtcbiAgd2luZG93Lk1JTkRBUiA9IHt9O1xufVxuaWYgKCF3aW5kb3cuTUlOREFSLkZBQ0UpIHtcbiAgd2luZG93Lk1JTkRBUi5GQUNFID0ge307XG59XG5cbndpbmRvdy5NSU5EQVIuRkFDRS5NaW5kQVJUaHJlZSA9IE1pbmRBUlRocmVlO1xuLy93aW5kb3cuTUlOREFSLkZBQ0UuVEhSRUUgPSBUSFJFRTtcbiJdLCJuYW1lcyI6WyJUSFJFRSIsIkJ1ZmZlckdlb21ldHJ5IiwiQnVmZmVyQXR0cmlidXRlIiwiTWluZEFSVGhyZWUiLCJjb250YWluZXIiLCJ1aUxvYWRpbmciLCJ1aVNjYW5uaW5nIiwidWlFcnJvciIsImZpbHRlck1pbkNGIiwiZmlsdGVyQmV0YSIsIlVJIiwiQ29udHJvbGxlciIsIlNjZW5lIiwiV2ViR0xSZW5kZXJlciIsIkNTUzNEUmVuZGVyZXIiLCJzUkdCRW5jb2RpbmciLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInRyYWNrIiwiZmFjZUdlb21ldHJ5IiwiZmFjZU1lc2giLCJNZXNoIiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJsYW5kbWFya0luZGV4IiwiZ3JvdXAiLCJHcm91cCIsImFuY2hvciIsInJlc29sdmUiLCJyZWplY3QiLCJzdHJlYW0iLCJlcnIiLCJ2aWRlbyIsImhhc0ZhY2UiLCJlc3RpbWF0ZVJlc3VsdCIsImkiLCJvYmoiLCJtZXRyaWNMYW5kbWFya3MiLCJmYWNlTWF0cml4IiwiZmFjZVNjYWxlIiwibGFuZG1hcmtNYXRyaXgiLCJzY2FsZWRFbGVtZW50cyIsImZvdiIsImFzcGVjdCIsIm5lYXIiLCJmYXIiLCJyZW5kZXJlciIsImNzc1JlbmRlcmVyIiwiY2FtZXJhIiwidnciLCJ2aCIsInZpZGVvUmF0aW8iLCJjb250YWluZXJSYXRpbyIsImNhbnZhcyIsImNzc0NhbnZhcyJdLCJtYXBwaW5ncyI6Ijs7OztBQU1B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
